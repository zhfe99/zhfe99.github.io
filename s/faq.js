var PANEL_NORMAL_CLASS="panel";var PANEL_COLLAPSED_CLASS="panelcollapsed";var PANEL_HEADING_TAG="h2";var PANEL_CONTENT_CLASS="panelcontent";var PANEL_ANIMATION_DELAY=20;var PANEL_ANIMATION_STEPS=5;function setUpPanels(){panelsStatus={};var headingTags=document.getElementsByTagName(PANEL_HEADING_TAG);for(var i=0;i<headingTags.length;i++){var el=headingTags[i];if(el.parentNode.className!=PANEL_NORMAL_CLASS&&el.parentNode.className!=PANEL_COLLAPSED_CLASS)continue;var name=el.firstChild.nodeValue;panelsStatus[name]=el.parentNode.className==PANEL_NORMAL_CLASS?"true":"false";el.onclick=function(){var target=this.parentNode;var name=this.firstChild.nodeValue;var collapsed=target.className==PANEL_COLLAPSED_CLASS;animateTogglePanel(target,collapsed)}}}function animateTogglePanel(panel,expanding){var elements=panel.getElementsByTagName("div");var panelContent=null;for(var i=0;i<elements.length;i++){if(elements[i].className==PANEL_CONTENT_CLASS){panelContent=elements[i];break}}panelContent.style.display="block";var contentHeight=panelContent.offsetHeight;if(expanding)panelContent.style.height="0px";var stepHeight=contentHeight/PANEL_ANIMATION_STEPS;var direction=!expanding?-1:1;setTimeout(function(){animateStep(panelContent,1,stepHeight,direction)},PANEL_ANIMATION_DELAY)}function animateStep(panelContent,iteration,stepHeight,direction){if(iteration<PANEL_ANIMATION_STEPS){panelContent.style.height=Math.round((direction>0?iteration:10-iteration)*stepHeight)+"px";iteration++;setTimeout(function(){animateStep(panelContent,iteration,stepHeight,direction)},PANEL_ANIMATION_DELAY)}else{panelContent.parentNode.className=direction<0?PANEL_COLLAPSED_CLASS:PANEL_NORMAL_CLASS;panelContent.style.display=panelContent.style.height=""}}if(window.addEventListener){window.addEventListener("load",setUpPanels,false)}else if(window.attachEvent){window.attachEvent("onload",setUpPanels)}
